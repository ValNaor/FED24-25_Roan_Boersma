define(["classnames","react","rendering-engine-api","z-shop-event-bus"],(function(e,t,n,i){return(self.renderingEngineWebpackJsonp=self.renderingEngineWebpackJsonp||[]).push([[28669],{81663:function(){window.__RENDERING_ENGINE_TRANSLATION_KEYS__={...window.__RENDERING_ENGINE_TRANSLATION_KEYS__,"collection_themed-home-view":["statement.index.headline","statement.index.subheadline"]}},76931:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return C},getLocalEntityId:function(){return A},getThemeValue:function(){return w}});var i=n(10170),o=n(87548),a=n(51599),r=n(22940),l=n(32740),s=n(30812),c=n(85959),d=n(72068),u=n(30613),p=n.n(u),m=n(60973),h=n(15184),v=n(22837),f=n(11506),g=n(75839),y=n(61617),E=n(2673),b=n(52130);const x=e=>{let{title:t,subtitle:n,isStatement:o=!1}=e;const a=o?s(i.Ol8,i.Y8j,i.vJI,i.LXt):i.xpe;return c.createElement("div",{className:s(g.Vg8,y.ZT)},c.createElement("div",{className:g.nME},c.createElement("div",{className:s(g.nzo,g.Srn,a)},c.createElement(E.Ay,{preset:b.nx.h1},t),n&&c.createElement(E.Ay,{preset:b.nx.h1,font:b.KQ.serif},n))))};var N=n(89862);const w=e=>e.split(":")[3]||"";let _=!1,S=!1,I=!1;const T="ern:collection:thm:livestream:dGhlbWVzPWxpdmVzdHJlYW0=",k=e=>{const{url:{query:{cid:t,sid:n}}}=e.navigation;return{isShare:!!t||!!n,sharedCollection:t||"",sharedShort:n||"",noSharedCollection:!t||!!n,noSharedShort:!n}};const A=e=>{if((null==e?void 0:e.includes("::"))||!(null==e?void 0:e.includes("ern:")))return;const t=e.split(":"),n=t[t.length-1],i=t[3];return e.includes("ern:campaign:cfa")&&t.length>4?i:n},B=e=>{if(!function(e){return"detail"in e}(e))throw new Error("not a custom event");const t=new URLSearchParams(window.location.search);if(e.detail&&t.has("cid")&&t.has("sid")){const e=t.get("cid")+"__"+t.get("sid"),n=document.querySelector('[data-scroll-id="'+e+'"]');null==n||n.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})}};var C=(0,l.view)().withFragments((()=>p())).withQueries((e=>({data:{query:d,variables:{id:e.entity.id,...k(e.context),isIndexPage:(0,f.q)(e.context.experience).experienceName.isStatement()}}}))).withTracking((e=>{const t=e.entity.id,n=w(t).replace("-","_");return{resolve:()=>({context:{theme:w(t),entity_id:t,experience:e.context.experience}}),getCustomPageViewContext:()=>({legacy_event_name:N.Zz,content_group_detail:n}),getStandaloneGlobalConfigs:()=>{var t;return{content_group_detail:n,experience:(null==(t=e.context.experience)?void 0:t.name)||"DEFAULT"}}}})).withStaticTiles((e=>{let{ruleData:t,context:n}=e;return{plusExclusivityNotifications:[{type:"entity",hints:["plus-notifications"]}],newsletterBanner:[{id:"ern:nlconsent::default",hints:["banner"]}],header:[{type:"navigation"}],appDownloadBanner:[{type:"app-download-banner"}],informationBanner:[{type:"information-banner"}],outfitNotifications:[{type:"outfit-notifications"}],...t.topLevelNavigationWebEnabled?{topLevelNavigation:[{type:"top-level-navigation"}]}:{},skipButtons:[{hints:["skip-buttons"]}],followBrandNotification:[{hints:["follow-brand-notification"]}],visibilityInfoModal:[{hints:["visibility-info-modal"]}],...(0,f.q)(n.experience).experienceName.isStatement()?{statementSubscriptionBanner:[{type:"statement-subscription"}]}:{}}})).withShell((e=>{let{fragments:t,tiles:n,context:i}=e;return{meta:k(i).isShare?void 0:t.seo,pre:c.createElement(c.Fragment,null,n.skipButtons,n.appDownloadBanner,n.informationBanner,n.header),post:c.createElement(c.Fragment,null,t.footer,t.miniCartNew)}})).withProcessDependencies(((e,t)=>{var n,i,o,a;const{collection:r,newsletterConsent:s}=e.data;if(!r)return{action:"error",message:"No collection data for the Themed Home"};let c=[],d="";const{isCustomPreview:u}=t.context.navigation.url.query,p=(0,f.q)(t.context.experience).experienceName.isStatement()||(e=>{if(!e.theme)return!1;const t=Array.isArray(e.theme)?e.theme[0]:e.theme;return e.isCustomPreview&&!!(null==t?void 0:t.includes(":inspiring-stories:"))})(t.context.navigation.url.query),m=t.entity.id;if(u){let{id:e=[],hints:n=[]}=t.context.navigation.url.query;Array.isArray(e)||(e=[e]),Array.isArray(n)||(n=[n]),e.forEach(((e,t)=>{c.push({id:""+e,hints:(""+n[t]).split(",")})}))}else if(null!==r.relevantEntities&&null!==r.relevantEntities.edges){const e=r.relevantEntities.edges;c=e.map((e=>{var t;let n,i,o=[];var a,r;(e.node.reason&&"kind"in e.node.reason&&null!==e.node.reason.kind&&o.concat(e.node.reason.kind.split(",")),e.node.reason&&"value"in e.node.reason&&null!==e.node.reason.value&&(o=o.concat(e.node.reason.value.split(","))),"visibility"in e.node&&e.node.visibility&&"visibilityInfo"in e.node.visibility)&&(n=null==(a=e.node.visibility.visibilityInfo)?void 0:a.id);"visibility"in e.node&&"AdvertisingVisibility"===(null==(t=e.node.visibility)?void 0:t.__typename)&&"zmsBidId"in e.node.visibility&&(i=null==(r=e.node.visibility)?void 0:r.zmsBidId);return{id:e.node.id,hints:o,fragmentsData:{visibilityInfoId:n,zmsBidId:i}}}))}if(c=c.map(((e,t)=>{var n;const i=e.hints||[];if((i.includes("welcome_mat")||i.includes("grid_2")||i.includes("statement-entry-point")||i.includes("statement-carousel"))&&(d=e.id||""),"ern:collection:thm:zalando-plus:dGhlbWVzPXphbGFuZG8tcGx1cw=="===m&&i.push("plus-home"),i.includes("carousel")&&p&&(null==(n=e.id)?void 0:n.includes("ern:collection:cnc"))&&(i.push("statement-product-carousel"),i.splice(i.indexOf("carousel"),1)),m===T&&i.push("livestream-hub"),"ern:collection:cfl:4efNLrhq9oamAkt7OgNR1v"===e.id&&i.push("upcoming-livestream-carousel"),"ern:collection:cfl:6HYyzIkjFYa0X5Fhyb8hlc"===e.id&&i.push("recorded-livestream-carousel"),m===T){var o;const e=c[t-1];e&&(null==e||null==(o=e.hints)?void 0:o.some((e=>"ZMS_C_TEXT"===e)))&&i.push("no-top-spacing")}return{...e,hints:i}})),!c.length)return{action:"error",message:"No relevant entities returned for the Themed Home"};const h=Math.min(2,c.length-1);let v=c;p&&!((e,t)=>{var n,i;if(e||!(null==t?void 0:t.isActive))return!1;const o=null==t||null==(i=t.preference)||null==(n=i.topics)?void 0:n.find((e=>"stories"===(null==e?void 0:e.id)));return!!(null==o?void 0:o.isEnabled)})(t.tools.customer.isAnonymous(),s)&&(v=[...v.slice(0,h),{id:t.entity.id,type:"statement-subscription",hints:["is-index-page"]},...v.slice(h)]);const g={[l.HOMES_TILES_KEY]:v};[0].forEach((e=>{var t,n;null==(n=g.relevantEntities[e])||null==(t=n.hints)||t.push("expectedAboveTheFold")})),d&&g.relevantEntities.push({id:d,hints:["shorts-dialog"]});let y=null==e||null==(n=e.data)?void 0:n.shareShort;var E;!y&&(null==e||null==(i=e.data)?void 0:i.shareCollection)&&(null==(o=e.data.shareCollection.entities)?void 0:o.nodes)&&(y=null==(E=e.data.shareCollection.entities)?void 0:E.nodes[0]);const b={title:(null==y?void 0:y.title)||"",description:(null==y?void 0:y.subtitle)||"",image:(null==y||null==(a=y.primaryImage)?void 0:a.uri)||void 0};return{action:"render",data:{tiles:g,collection:r,isStatementExperience:p,opengraph:b},tiles:g,updatedRenderContext:{theme:w(m)}}})).withMeta((e=>{let{data:t}=e;const{title:n,description:i,image:o}=t.opengraph;return c.createElement(c.Fragment,null,c.createElement("title",null,n+" | Zalando"),c.createElement("meta",{property:"og:image",content:o}),c.createElement("meta",{property:"og:title",content:""+n}),c.createElement("meta",{property:"og:description",content:""+i}))})).withRenderTile((e=>{let{tileToRender:t,index:n,entity:a}=e;const{id:l,hints:d,type:u}=a,{isDesktop:p,isTablet:m}=t.props.context.deviceInfo;if("app-download-banner"===u)return _=!0,t;if("information-banner"===u)return S=!0,t;if("navigation"===u)return I=!0,t;if("top-level-navigation"===u&&!p)return t;_&&--n,S&&--n,I&&--n;const{ruleData:h}=t.props,v=d.filter((e=>!e.startsWith("octopus:"))).includes("navigation"),g="boolean"==typeof h.isSpacingTopNeeded&&h.isSpacingTopNeeded,y=Boolean(h.noTopSpacing)||d.some((e=>"no-top-spacing"===e)),E="boolean"==typeof h.isSpacingBottomNeeded&&h.isSpacingBottomNeeded,b=p||m?0:1,x=(0,f.q)(t.props.context.experience).experienceName.isStatement(),N=__("statement.index.headline"),w=!x&&(n>b&&!v||g),T=n===b&&x&&N,k=n>b&&!v&&x&&g,B=()=>c.createElement("div",{"data-entity-id":l,id:A(l),"data-re-hints":d,className:s({[s(i.Hm_,i.qUY)]:w&&!y,[s(i.nlf,i.E0r)]:T,[s(i.Ol8,i.kU7)]:k,[s(o.bl$,o.d7k,r.We)]:v,[s(i.FOb,i.iZw)]:E&&!x,[s(i.WKz,i.g5R)]:E&&x})},t),[C,z]=c.useState(n>=7?null:B);return c.useEffect((()=>{n>=7&&z(B)}),[]),C})).withRender((e=>{const[t,n]=c.useState(!1),{title:i}=e.data.collection,{isDesktop:o,isTablet:r}=e.context.deviceInfo,{isStatementExperience:l}=e.data,d=__("statement.index.headline");return c.useEffect((()=>{n(!0),l&&window.addEventListener("playerIsOpen",B)}),[]),c.createElement("div",{"data-uat-pagetype":"themed-home",className:a.GUV},!o&&!r&&e.tiles.topLevelNavigation,c.createElement("div",{className:s({[(0,h.dl)(v.z.monochromeDark)]:l},a.GUV),id:"main-content"},c.createElement("div",{id:"themed-homes-pagemon",className:s({"is-loaded":t,[(0,h.dl)(v.z.monochromeDark)]:l})},l&&d&&c.createElement(x,{title:d,subtitle:__("statement.index.subheadline"),isStatement:l}),e.tiles.relevantEntities,i&&!l&&c.createElement(x,{title:i}))),e.fragments["seo-teaser"],!l&&e.fragments.glados,e.tiles.newsletterBanner,e.fragments.tracking,e.tiles.outfitNotifications,e.tiles.plusExclusivityNotifications,e.tiles.followBrandNotification,e.tiles.visibilityInfoModal,c.createElement(m.s,null))}))},30613:function(e){e.exports={footer:{id:"footer",url:""},glados:{id:"glados",url:""},miniCartNew:{id:"minicart",url:""},tracking:{id:"tracking",url:""},seo:{id:"seo-header",url:""},"seo-teaser":{id:"seo-teaser",url:""}}},72068:function(e){e.exports={id:"6dc57fe08d5f93bbaa11b481a93e03e3c3721e01aa81804e563e22cd8860209c"}},30812:function(t){"use strict";t.exports=e},85959:function(e){"use strict";e.exports=t},32740:function(e){"use strict";e.exports=n},21775:function(e){"use strict";e.exports=i}},function(e){var t=function(t){return e(e.s=t)};return e.O(0,[29674],(function(){return t(81663),t(76931)})),e.O()}])}));
//# sourceMappingURL=https://zalando.de/dev/source-maps/collection_themed-home-view/index-b2f139457b23b82fc6f9.map