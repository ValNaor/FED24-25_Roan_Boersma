"use strict";define(["classnames","react","react-dom","rendering-engine-api","z-shop-event-bus"],(function(e,n,t,a,l){return(self.renderingEngineWebpackJsonp=self.renderingEngineWebpackJsonp||[]).push([[48134],{49898:function(e,n,t){t.d(n,{V:function(){return C},A:function(){return L}});var a={};t.r(a),t.d(a,{close:function(){return w},communication:function(){return g},communicationRow:function(){return p},inline:function(){return h},overlay:function(){return x},rowPaddingLeft:function(){return v},rowPaddingRight:function(){return E}});var l=t(89575),r=t(17502),o=t(30812),c=t.n(o),i=t(85959),s=t.n(i),u=t(3906),m=t(58777),f=t(9049),d=t(36124),b=t(83127),g="z9BL8K Z1Xqqm _8xiD-i Vjx5XV _0--MrG HlZ_Tf -ZiX0Q",p="q84f1m snL7ze",v="sKmkSN",E="pMa0tB",h="snL7ze",x="_4iu4Kj mo6ZnF",w="_3ETRgC Md_Vex _9ia6Xz LkH0Rh _2ZBgf",k=t(97103);const _=["children","className","labels","type","isDismissable","onClose"],A=["className","snapLeft","snapRight","withoutPadding","children"],C=e=>{const{className:n,snapLeft:t=!1,snapRight:a=!1,withoutPadding:o=!1,children:i}=e,u=(0,r.A)(e,A),m=(0,k.B)(C,e);return s().createElement(m,(0,l.A)({className:c()(n,p,!o&&[!t&&v,!a&&E])},u),i)};var L=e=>{const{children:n,className:t,labels:o={close:"close"},type:i="inline",isDismissable:p=!1,onClose:v=(()=>null)}=e,E=(0,r.A)(e,_);return s().createElement("div",(0,l.A)({className:c()(t,g,a[i])},E),p&&s().createElement(u.A,{"aria-label":o&&o.close,tabIndex:0,preset:m.lH.transparent,className:c()(b.root,w),onClick:v},s().createElement(d.A,{src:f.A})),n)}},74632:function(e,n,t){t.r(n),t.d(n,{default:function(){return L}});var a=t(32740),l=t(85959),r=t(21775),o=t.n(r),c=t(28258);const i="notification.follow",s=(e,n,t)=>(a,l)=>{if("custom_click"===a)e.track({name:a,context:{brands:t,customActionSuffix:l,customLabel:i}});else if("custom_view"===a){e.track({name:a,context:{brands:t,customActionSuffix:l,customLabel:i}},n);const o=(l?l+".":"")+i;e.trackStandalone({name:"view_content",context:{legacy_event_name:a,event_trigger_name:(r=o,r.split(" ").join("_").toLowerCase())}},n)}var r};var u=t(2673),m=t(52130),f=t(61070),d=t(71156),b=t(49898),g=t(52517),p=t(51599),v=t(41825),E=t(30812);const h=e=>{let{title:n,description:t,imageUrl:a,largeImageUrl:r,ctaLabel:o,ctaLink:c,isMobile:i=!1,onClose:s,onCtaClick:h}=e;return l.createElement(b.A,{style:{borderColor:"#D0D1D3"},type:"overlay",isDismissable:!0,onClose:s,className:E({[p.Aof]:i,[v.s7]:i,[v.Nd]:i})},l.createElement(b.V,null,l.createElement(u.Ay,{preset:m.nx.h4},n)),i&&l.createElement(b.V,{snapLeft:!0,snapRight:!0},l.createElement(g.Ay,{className:f.Sl,alt:"logo",src:a,srcSet:a+", "+r+" 2x"})),l.createElement(b.V,null,l.createElement(u.Ay,null,t)),!i&&l.createElement(b.V,null,l.createElement(g.Ay,{className:f.Sl,alt:"logo",src:a,srcSet:a+", "+r+" 2x"})),l.createElement(b.V,null,l.createElement(d.A,{href:c,onClick:h},o)))};var x=t(89862),w=t(10170);const k=e=>{let{notificationData:n,isMobile:t=!1,track:a}=e;const[r,o]=l.useState(!0),c=l.useRef(null);l.useEffect((()=>{a&&a(x.wc),i.current&&(c.current=document.activeElement,i.current.focus())}),[]);const i=l.useRef(null),s=()=>{var e;o(!1),a&&a(x.bD,"close"),null==(e=c.current)||e.focus()};return r?l.createElement("div",{className:w.QgQ,style:{outline:"none"},ref:i,tabIndex:-1,role:"presentation",onKeyDown:e=>{"Escape"===e.code&&s()}},l.createElement(h,{...n,isMobile:t,onClose:s,onCtaClick:()=>{a&&a(x.bD,"learn more")}})):null},_="FOLLOW_CUSTOM_NOTIFICATION";var A,C;var L=(0,a.tile)().withTracking((e=>({resolve:()=>({context:{id:e.entity.id}})}))).withRender((e=>{const{context:{deviceInfo:n},tools:{tracking:t},ruleData:a}=e,r={enableStandaloneInShadow:!!a.enableStandaloneInShadowPrior2,enableStandaloneOnly:!!a.enableStandaloneOnlyPrior2},i=l.useCallback((e=>{var a,o,i,u,m,f;e.communicationOnFollow&&c.h.show(l.createElement(k,{isMobile:n.isMobile,notificationData:(o=e.communicationOnFollow,{title:o.title,description:null!=(A=o.text)?A:"",imageUrl:o.bannerImage.uri,largeImageUrl:o.bannerImageLarge.uri,ctaLabel:null!=(C=null==(i=o.cta)?void 0:i.text)?C:"",ctaLink:(null==(u=o.cta)?void 0:u.uri)?(f=null==(m=o.cta)?void 0:m.uri,f.replace(/\/+$/,"")+"/?redirect_url="+encodeURIComponent(window.location.href)):""}),track:s(t,r,null==(a=e.brandFamily)?void 0:a.brands)}))}),[n.isMobile,t]);return l.useEffect((()=>(o().on(_,i),()=>o().off(_,i))),[i]),null}))},30812:function(n){n.exports=e},85959:function(e){e.exports=n},48398:function(e){e.exports=t},32740:function(e){e.exports=a},21775:function(e){e.exports=l}},function(e){return e.O(0,[29674],(function(){return n=74632,e(e.s=n);var n})),e.O()}])}));
//# sourceMappingURL=https://zalando.de/dev/source-maps/entity_follow-brand-notification/index-1022ec0543d6f3ba00bc.map