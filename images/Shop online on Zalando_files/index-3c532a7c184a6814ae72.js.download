define(["classnames","react","react-dom","rendering-engine-api","z-shop-event-bus"],(function(e,t,n,r,s){return(self.renderingEngineWebpackJsonp=self.renderingEngineWebpackJsonp||[]).push([[12624],{23927:function(e,t,n){"use strict";var r=n(85959);function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}function o(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n,r,s={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}t.A=function(e){var t=e.title,n=e.titleId,a=o(e,["title","titleId"]);return r.createElement("svg",s({viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor","aria-labelledby":n},a),t?r.createElement("title",{id:n},t):null,r.createElement("path",{d:"M21.925 9.623c-1.542-1.945-3.713-3.808-6.534-5.505h-.02c-2.84-1.656-5.519-2.629-7.933-3.022-1.502-.248-2.232.042-2.557.228s-.933.683-1.481 2.132C2.528 5.794 2.02 8.65 2 11.982v.021c.02 3.353.528 6.188 1.4 8.527.548 1.449 1.157 1.945 1.481 2.131.325.187 1.055.477 2.557.228 2.414-.393 5.092-1.366 7.933-3.021h.02c2.82-1.697 4.992-3.56 6.534-5.506.973-1.2 1.075-1.986 1.075-2.38 0-.372-.102-1.159-1.075-2.359"}))}},76645:function(e,t,n){"use strict";var r=n(43168),s=n(21266),o=n(87424);const a=(0,r.X)(s)(o.A);t.A=a},75092:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return C}});var r=n(85959),s=n(32740),o=n(30812),a=n(97275),i=n(21775),c=n.n(i),l=n(59890),d=n(76645),u=n(14936),h=n(38856),m=n(5073),f=n(87548),v=n(81500);function p(){return p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p.apply(this,arguments)}function y(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n,r,s={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}var g=function(e){var t=e.title,n=e.titleId,s=y(e,["title","titleId"]);return r.createElement("svg",p({width:106,height:20,fill:"none",viewBox:"0 0 106 20","aria-labelledby":n},s),t?r.createElement("title",{id:n},t):null,r.createElement("g",{fill:"#fff",clipPath:"url(#1fe__clip0_2781_41586)"},r.createElement("path",{d:"M-.002 16.65 10.416 6.543H.276V3.968h14.171v2.946L4.03 17.023h10.666v2.573H-.002zM15.191 15.349c0-3.473 2.977-4.434 5.612-4.776l4.9-.62c1.178-.155 1.519-.682 1.519-1.395v-.031c0-1.395-1.21-2.419-3.845-2.419-2.543 0-3.969.961-4.217 2.574h-3.287c.372-3.163 3.132-5.116 7.597-5.116 4.992 0 7.039 2.108 7.039 5.581v10.45h-3.132v-2.481C26.044 19.038 23.657 20 20.958 20c-3.565 0-5.767-1.799-5.767-4.651m12.031-2.822v-.744c-.527.217-1.116.34-1.768.434l-3.906.527c-2.016.279-2.946 1.023-2.946 2.388 0 1.457 1.24 2.325 3.256 2.325 3.317 0 5.364-2.264 5.364-4.93M31.967 0h3.287v19.596h-3.287zM36.339 15.349c0-3.473 2.976-4.434 5.612-4.776l4.9-.62c1.178-.155 1.519-.682 1.519-1.395v-.031c0-1.395-1.21-2.419-3.845-2.419-2.543 0-3.97.961-4.217 2.574H37.02c.372-3.163 3.132-5.116 7.597-5.116 4.992 0 7.038 2.108 7.038 5.581v10.45h-3.131v-2.481C47.19 19.038 44.804 20 42.106 20c-3.566 0-5.767-1.799-5.767-4.651m12.03-2.822v-.744c-.526.217-1.116.34-1.767.434l-3.907.527c-2.015.279-2.946 1.023-2.946 2.388 0 1.457 1.24 2.325 3.256 2.325 3.318 0 5.365-2.264 5.365-4.93M53.114 3.969H56.4V6.51c1.178-1.86 3.41-2.945 6.139-2.945 4.093 0 6.512 2.356 6.512 6.697v9.334h-3.287v-8.869c0-2.883-1.52-4.465-4.31-4.465-3.008 0-5.054 2.016-5.054 4.869v8.465h-3.287zM70.138 11.72c0-5.054 3.503-8.155 7.69-8.155 2.511 0 4.682.9 5.984 2.76V0h3.287v19.596h-3.287V17.21c-1.426 1.922-3.473 2.79-5.985 2.79-4.186 0-7.69-3.162-7.69-8.279m13.767.031c0-3.255-1.922-5.519-5.178-5.519-3.225 0-5.179 2.233-5.179 5.488 0 3.287 1.954 5.613 5.179 5.613 3.255 0 5.178-2.326 5.178-5.581M88.184 11.752c0-4.807 3.256-8.186 8.62-8.186 5.396 0 8.62 3.38 8.62 8.186S102.2 20 96.804 20c-5.364 0-8.62-3.442-8.62-8.248m13.83 0c0-3.04-1.675-5.52-5.21-5.52s-5.209 2.48-5.209 5.52c0 3.07 1.674 5.581 5.21 5.581 3.534 0 5.209-2.512 5.209-5.581"})),r.createElement("defs",null,r.createElement("clipPath",{id:"1fe__clip0_2781_41586"},r.createElement("path",{fill:"#fff",d:"M-.002 0h105.426v20H-.002z"}))))},b=n(36124),w=n(23927),E=n(15184),x=n(22837),O=n(10170),I=n(49213),S=n(32099),P=n(19357),k=n(51599);const L=375,N=163.5,j=e=>{let{shorts:t,currentShortIndex:n,isOpen:s,shortPreviews:a}=e;return r.createElement("div",{className:o(m.OL,S.Gm,f.DYq,f.dFL,f.zlB),style:{maxWidth:L}},r.createElement("div",{className:o(S.Gm,u.Xv,m.OL,h.Fn)},0===t.length?r.createElement("div",{className:o(S.Gm,m.OL),style:{flex:"100% 1 0",height:"100%"}},r.createElement("div",{className:o(m.OL,h.t4,h.Fn,S.Gm,u.Xv,k.zBe)},r.createElement(P.A,null))):t.map(((e,t)=>r.createElement("div",{key:t,className:o(S.Gm,m.OL),style:{flex:"100% 1 0",transition:"margin 0.45s ease-in-out",height:t===n?"100%":562.5,marginLeft:0===n?0:0===t?-375*n+N*(n-1):t<n?-163.5:0,marginRight:t>n?-163.5:0}},r.createElement("div",{className:o(m.OL,h.t4,h.Fn,S.Gm,u.Xv),style:{transform:t!==n?"scale(0.5)":"scale(1)",transition:"transform 0.3s ease-in-out"}},t===n&&s?e:a[t]))))))},D=e=>{let{shorts:t,shortPreviews:n,currentShortIndex:s,isOpen:a}=e;return r.createElement("div",{className:o(m.OL,S.Gm,u.Xv),style:{maxWidth:L}},0===t.length?r.createElement("div",{className:o(S.Gm,f.DYq,f.d7k,f.l5b,u.Xv)},r.createElement("div",{className:o(m.OL,h.t4,h.Fn,S.Gm,u.Xv,k.zBe)},r.createElement(P.A,null))):t.map(((e,t)=>r.createElement("div",{key:t,className:o(S.Gm,f.DYq,f.d7k,f.l5b,u.Xv),style:{transition:"margin 0.45s ease-in-out",marginLeft:s===t?0:s>t?"-100vw":"100vw"}},r.createElement("div",{className:o(m.OL,h.t4,h.Fn,S.Gm,u.Xv),style:{transform:"scale(1)",transition:"transform 0.3s ease-in-out"}},t===s&&a?e:n[t])))))};var _=n(89862);const z=new l.l;var C=(0,s.tile)({contentId:"",shortId:""}).withQueries(((e,t)=>""!==t.contentId?{data:{query:a,variables:{id:t.contentId}}}:{})).withTracking((e=>({def:I.def,context:{id:e.entity.id}}))).withProcessDependencies(((e,t,n)=>{var r;const s=null==(r=e.data)?void 0:r.collection;let o=0;if(!s||!s.entities||!s.entities.nodes)return{action:"render",data:{currentShortIndex:o,shortsData:[]},tiles:{shorts:[]}};const a=s.entities.nodes;a.forEach(((e,t)=>{e.id===n.shortId&&(o=t)}));const i=a.map((e=>({id:e.id,hints:["short-preview"]}))),c=a.map(((e,t)=>{const n=["short-player"];return 0===t?n.push("is-first-short"):t===a.length-1&&n.push("is-last-short"),{id:e.id,hints:n,fragmentsData:{collection:s}}}));return{action:"render",data:{currentShortIndex:o,shortsData:a},tiles:{shorts:c,shortPreviews:i}}})).withRender((e=>{var t,n;const[a,i]=r.useState(0),l=r.useRef({currentShortIndex:a,shortsData:[]}),p=e=>{l.current.currentShortIndex=e,i(e)},{shortsData:y}=e.data,I={enableStandaloneInShadow:!!(null==(t=e.ruleData)?void 0:t.enableStandaloneInShadowPrio2),enableStandaloneOnly:!!(null==(n=e.ruleData)?void 0:n.enableStandaloneOnlyPrio2)};r.useEffect((()=>{l.current.shortsData=y}),[y]);const[S,P]=r.useState(!1);r.useEffect((()=>{p(e.data.currentShortIndex)}),[e.data.currentShortIndex]),r.useEffect((()=>{const t=e=>{var t;(null==(t=e.state)?void 0:t.cid)?e.state.cid&&n(e.state.cid,e.state.sid):k()},n=(t,n)=>{t&&n&&(z.emit("open"),window.dispatchEvent(new CustomEvent("playerIsOpen",{detail:!0})),P(!0),e.tools.setRendererState({contentId:"object"==typeof t?t[0]:t,shortId:"object"==typeof n?n[0]:n}))},r=()=>{0===l.current.currentShortIndex?k():p(l.current.currentShortIndex-1)},o=()=>{l.current.currentShortIndex===l.current.shortsData.length-1?k():p(l.current.currentShortIndex+1)},a=e=>{const t=l.current.shortsData.findIndex((t=>t.id===e));p(t)},{url:{query:{cid:i,sid:d}}}=e.context.navigation;return i&&d&&(s.SessionStorage.exists()&&s.SessionStorage.set("mute-shorts","true"),n(i,d)),c().on("open-shorts-dialog",n),c().on("next-short",o),c().on("previous-short",r),c().on("jump-short",a),window.addEventListener("popstate",t),()=>{c().off("open-shorts-dialog",n),c().off("next-short",o),c().off("previous-short",r),c().off("jump-short",a),window.removeEventListener("popstate",t)}}),[]);const k=()=>{var t,n,r;const s="close",o="release short.-.-";e.tools.tracking.track({name:_.bD,context:{customCategory:"release short",customActionSuffix:s,customLabel:o}},I);const a={name:"select_content",context:{content_id:e.entity.id,legacy_event_name:_.bD,event_trigger_name:("close."+o).replace(/ /g,"_"),experience:null==(t=e.context.experience)?void 0:t.name}};if(e.tools.tracking.trackStandalone(a,I),P(!1),p(0),z.emit("close"),e.tools.setRendererState({contentId:"",shortId:""}),window.dispatchEvent(new CustomEvent("playerIsOpen",{detail:!1})),null==(r=window.history)||null==(n=r.state)?void 0:n.cid){const e=new URL(window.location.href);e.searchParams.delete("cid"),e.searchParams.delete("sid"),e.searchParams.delete("slid"),window.history.replaceState({},"",e.href)}},L=e.context.deviceInfo.isMobile;return r.createElement(d.A,{bus:z,header:r.createElement("div",{className:o(m.lX,m.lw)},r.createElement(v.A,{src:g})),footer:r.createElement("div",{className:o(m.lX,m.lw)},r.createElement(b.A,{src:w.A,size:"l",color:"brand"})),flyoutContentProps:{style:{background:"black"},className:(0,E.dl)(x.z.monochromeDark)},flyoutCloseProps:{style:{pointerEvents:"auto"}},flyoutHeaderProps:{style:{position:L?"absolute":void 0,right:0,width:L?"40px":void 0,pointerEvents:"none",zIndex:10,background:"transparent",borderBottomWidth:0},className:o(O.Y3k,O.Zeo,O.b7H,O.jNI,f.mq1,f.dFL)},flyoutFooterProps:{style:{background:"transparent",position:L?"absolute":void 0,pointerEvents:"none",right:0,zIndex:10},className:o(h.Gs,(0,E.dl)(x.z.default),O.Y3k,O.Zeo,O.b7H,O.lJC,f.yxp,f.zlB)},flyoutBodyProps:{style:{overflow:"hidden",background:"#000000",paddingTop:0}},onClose:k},r.createElement(E.NP,{theme:x.S.statement},r.createElement("div",{className:o(m.OL,h.t4,u.Xv,O.Bmg)},e.context.deviceInfo.isMobile?r.createElement(D,{currentShortIndex:a,isOpen:S,shorts:e.tiles.shorts,shortPreviews:e.tiles.shortPreviews}):r.createElement(j,{onPreviewClick:e=>{p(e)},currentShortIndex:a,isOpen:S,shorts:e.tiles.shorts,shortPreviews:e.tiles.shortPreviews}))))}))},97275:function(e){e.exports={id:"dc563dfbd014ba90d0c8852cd33bfc323714f63235faa94571e7fe7e35964e43"}},30812:function(t){"use strict";t.exports=e},85959:function(e){"use strict";e.exports=t},48398:function(e){"use strict";e.exports=n},32740:function(e){"use strict";e.exports=r},21775:function(e){"use strict";e.exports=s}},function(e){return e.O(0,[29674],(function(){return t=75092,e(e.s=t);var t})),e.O()}])}));
//# sourceMappingURL=https://zalando.de/dev/source-maps/collection_shorts-dialog/index-4aebc1a36cf157d93f4b.map