define(["classnames","react","rendering-engine-api"],(function(e,t,n){return(self.renderingEngineWebpackJsonp=self.renderingEngineWebpackJsonp||[]).push([[36154],{3171:function(e,t,n){"use strict";n.d(t,{H:function(){return a}});n(89862);function a(e,t,n){return"release slide.-."+(e&&t?"motion":t?"static":"video")+"."+n}},9193:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return L}});var a=n(85959),r=n(32740),o=n(70293),i=n(2673),l=n(52130),c=n(72640),s=n(43475),d=n(34412),u=n(61617),m=n(30812),p=n(87548),g=n(10170),y=n(5073),f=n(38856),v=n(32099),b=n(14936),h=n(14982),x=n(61706),k=n(22940),S=n(84011),w=n(89862);const E="release short",_=(e,t)=>{let n=null;const a={customLabel:t,customCategory:E};return(t,r)=>{let o=null;const i=Math.round(t/r*100);var l,c;i>=25&&i<50?o={name:w.Jh,context:a}:i>=50&&i<75?o={name:w.hr,context:a}:i>=75&&(o={name:w.iB,context:a}),!o||((l=o)===(c=n)||l&&c&&l.name===c.name)||(n=o,e.tracking.track(o))}};var V=n(3171);var L=(0,r.tile)().withQueries((e=>({data:{query:o,variables:{id:e.entity.id}}}))).withTracking((e=>({def:d.def,context:{id:e.entity.id}}))).withProcessDependencies(((e,t)=>{var n,a;const{collection:r}=e.data;if(!r)return{action:"error",message:"Invalid Cover Slide"};if(!(null==(n=r.primaryImage)?void 0:n.uri)&&!(null==(a=r.primaryVideo)?void 0:a.uri))return{action:"error",message:"Collection has no media"};return{action:"render",data:{collection:r,enableStandaloneInShadowPrio2:"boolean"==typeof t.ruleData.enableStandaloneInShadowPrio2&&t.ruleData.enableStandaloneInShadowPrio2,enableStandaloneOnlyPrio2:"boolean"==typeof t.ruleData.enableStandaloneOnlyPrio2&&t.ruleData.enableStandaloneOnlyPrio2}}})).withRender((e=>{var t,n,o,d;const L=a.useRef(null),C=(null==(t=window.visualViewport)?void 0:t.height)||865,I=!r.SessionStorage.exists()||null===r.SessionStorage.get("mute-shorts")||"true"===r.SessionStorage.get("mute-shorts"),{collection:N,enableStandaloneInShadowPrio2:P,enableStandaloneOnlyPrio2:O}=e.data,X=null==(n=N.primaryVideo)?void 0:n.uri.includes(".m3u8"),D=(0,V.H)(!1,!!(null==N||null==(o=N.primaryImage)?void 0:o.uri),N.id),A=""+D.replace(/ /g,"_"),K="shorts-video-player-"+N.id.split(":").pop();return a.createElement(r.ViewTracker,{onVisible:()=>((e,t,n,a,r)=>{const o={name:"view_content",context:{content_id:a,legacy_event_name:w.wc,event_trigger_name:r}};(t||n)&&e.trackStandalone(o),n||e.track({name:w.wc,context:{customCategory:"release short",customLabel:r}})})(e.tools.tracking,P,O,N.id,A)},a.createElement("div",{style:{background:"black"},className:m(b.Xv,v.Gm,f.HX,y.OL,f.vF)},a.createElement("div",{className:m(g.okl,g.ZLx,g.Mn7,p.cky)},a.createElement("div",{className:m(v.Gm,u.ZT)},a.createElement(s.wj,{className:c.$x},N.primaryImage&&!N.primaryVideo&&a.createElement(S.A,{style:{borderRadius:"1rem"},fetchpriority:"high",src:N.primaryImage.uri}),N.primaryVideo&&a.createElement(x.A,{id:K,playsinline:!0,protocol:X?"hls":"http",ref:L,preferredSubtitlesLocale:e.context.locale,src:N.primaryVideo.uri,width:0,className:b.Xv,height:327,muted:I,autoplay:!1,controls:!1,preload:"auto",style:{objectFit:"cover",borderRadius:"1rem"},onReady:()=>{var t,n;((e,t,n,a)=>{const r={name:w.BV,context:{uri:t,id:n,duration:Math.round(a)}};e.tracking.track(r)})(e.tools,(null==(t=N.primaryVideo)?void 0:t.uri)||"",N.id,(null==(n=N.primaryVideo)?void 0:n.duration)||0)},onTimeUpdate:_(e.tools,D),onEnd:()=>((e,t)=>{const n={name:w.yt,context:{customCategory:E,customLabel:t}};e.tracking.track(n)})(e.tools,D)})))),a.createElement("div",{className:m({[m(g.niV,g.XiK)]:C<685,[m(g.Bmg,g.XfK)]:C>=685},g.ZLx,g.Mn7,y.OL,b.Xv,p.cky,v.Gm,f.HX,f.vF)},a.createElement(i.Ay,{preset:l.nx.h3,font:l.KQ.sansSerif,style:{...C<685?{fontSize:"18px"}:{}}},N.title),N.subtitle&&a.createElement(i.Ay,{font:l.KQ.serif,preset:l.nx.h3},N.subtitle),N.description&&C>630?a.createElement(i.Ay,{className:g.QgQ,preset:l.nx.body,font:l.KQ.serif,tag:"p"},N.description):null,!!(null==(d=N.cta)?void 0:d.text)&&a.createElement("div",{className:m(p.cky,k.CY,g.brT,g.XiK)},a.createElement(h.J,{target:"_blank",href:N.cta.uri,className:v.Gm,label:N.cta.text,onClick:()=>{var t,n;(null==(t=N.cta)?void 0:t.text)&&((e,t,n,a,r,o)=>{const i="show",l="release slide.-."+o;a||e({name:w.bD,context:{customCategory:"release short",customActionSuffix:i,customLabel:l}}),(n||a)&&t({name:"select_content",context:{content_id:r,legacy_event_name:w.bD,event_trigger_name:("show."+l).toLowerCase().replace(/ /g,"_")}})})(e.tools.tracking.track,e.tools.tracking.trackStandalone,P,O,N.id,null==(n=N.cta)?void 0:n.uri)}})))))}))},70293:function(e){e.exports={id:"955c5e5d40e38e43ac245e06f4c66500cad7e22e4573bcfbf6d307cafcb5537e"}},30812:function(t){"use strict";t.exports=e},85959:function(e){"use strict";e.exports=t},32740:function(e){"use strict";e.exports=n}},function(e){return e.O(0,[29674],(function(){return t=9193,e(e.s=t);var t})),e.O()}])}));
//# sourceMappingURL=https://zalando.de/dev/source-maps/collection_short-slide-entry-point/index-5607d9911c9862c3f2a4.map