define(["classnames","react","rendering-engine-api","z-shop-event-bus"],(function(e,t,n,r){return(self.renderingEngineWebpackJsonp=self.renderingEngineWebpackJsonp||[]).push([[19724],{89581:function(e,t,n){"use strict";var r=n(85959);function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}function o(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n,r,s={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}t.A=function(e){var t=e.title,n=e.titleId,a=o(e,["title","titleId"]);return r.createElement("svg",s({viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor","aria-labelledby":n},a),t?r.createElement("title",{id:n},t):null,r.createElement("path",{d:"M21 3H3a3.004 3.004 0 0 0-3 3v12a3.004 3.004 0 0 0 3 3h18a3.004 3.004 0 0 0 3-3V6a3.004 3.004 0 0 0-3-3m0 1.5c.318 0 .597.122.84.291l-8.816 8.229a1.505 1.505 0 0 1-2.048 0L2.16 4.79c.243-.17.522-.29.84-.291zm0 15H3A1.5 1.5 0 0 1 1.5 18V6.225l8.454 7.89A3 3 0 0 0 12 14.92a3 3 0 0 0 2.046-.804l8.454-7.89V18a1.5 1.5 0 0 1-1.5 1.5"}))}},66290:function(e,t,n){"use strict";n.d(t,{n:function(){return V}});var r={};n.r(r),n.d(r,{buttonSpacing:function(){return S},prefixIcon:function(){return C},prefixIconLarge:function(){return L},root:function(){return h},suffixIcon:function(){return w},text:function(){return N}});var s={};n.r(s),n.d(s,{i0:function(){return x},rf:function(){return k},bm:function(){return O},rn:function(){return M},zr:function(){return I}});var o=n(89575),a=n(17502),c=n(4955),i=n(15842),l=n(36124),u=n(52130),m=n(2673),d=n(30812),f=n.n(d),b=n(85959),E=n.n(b),p=n(67270),y=n(43168),_=n(41553),g=n(62030),v=n(21663),A=n(5828),h="SX0LGY vfoVrE DJxzzA u9KIT8 uEg2FS U_OhzR ZkIJC- Vn-7c- VWL_Ot _13ipK_ FCIprz heWLCX Wu1CzW Md_Vex NN8L-8 _d3F40 P3OKTW mo6ZnF K82if3 VWL_Ot HlZ_Tf _13ipK_ LyRfpJ",S="Z1Xqqm _8xiD-i sKmkSN pMa0tB",N="JCuRr_",w="_4GmiZN nXkCf3",C="iXbgaG nXkCf3 DlJ4rT _9l1hln _65i7kZ",L="QfLC_c",I="QsQR-j NN8L-8 JT3_zV _8sTSoF",k="Z1Xqqm sb1S7G sKmkSN pMa0tB",x="ZkIJC- i8_8W0",O="heWLCX",M="_0xLoFW _78xIQ- P3OKTW",R=n(47351);const D=["title","titlePreset","subTitle","open","prefix","children","tabIndex","ariaLabel","titleTag","onChange","className","bus","mountOnFirstExpand"],T={timeout:100},B=(0,y.X)(r)(A.A),V=e=>{const{i0:t,rf:n,bm:r,rn:d,zr:y}=s,{title:A,titlePreset:h="bodyBold",subTitle:S,open:N=!1,prefix:w,children:C,tabIndex:L=0,ariaLabel:I,titleTag:k=u.Wh.h3,onChange:x,className:O,bus:M,mountOnFirstExpand:V=!1}=e,W=(0,a.A)(e,D),[z,F]=(0,_.e)(N),[U,P]=(0,_.e)(!V||N),K=(0,b.useRef)(),G=(0,b.useRef)(!0),j=E().useCallback((()=>{P(!0),F(!0),"function"==typeof x&&x(!0)}),[x,F]),X=E().useCallback((()=>{F(!1),"function"==typeof x&&x(!1)}),[x,F]),q=E().useCallback((()=>{z||P(!0),F(!z),"function"==typeof x&&x(!z)}),[x,z,F]);E().useEffect((()=>{if(M)return M.on("toggle",q),M.on("open",j),M.on("close",X),()=>{M.off("toggle",q),M.off("open",j),M.off("close",X)}}),[M,j,X,q]);const[Q,H]=(0,b.useState)(0),Z=()=>{null!=K&&K.current&&H(K.current.scrollHeight)},[J]=(0,g.A)((()=>(0,v.B)(Z,T)),100);(0,b.useEffect)((()=>{if(U)return null!=K&&K.current&&(0,v.B)(Z),(0,p.q)(J),()=>(0,p.O)(J)}),[K,U,z]),(0,b.useEffect)((()=>{z&&!G.current&&(0,v.B)(Z)}),[C]);const Y=E().createElement(l.A,{src:z?c.A:i.A}),$=E().createElement("span",{className:d},E().createElement(m.Ay,{tag:"span",preset:u.nx[h],color:u.r7.inherit},A),S&&E().createElement(m.Ay,{tag:"span",preset:u.nx.body,color:u.r7.inherit},S));return(0,b.useEffect)((()=>{G.current&&(G.current=!1)}),[]),E().createElement("div",(0,o.A)({className:f()(y,O)},W),E().createElement(k,{className:r},E().createElement(B,{label:$,icon:w,suffixIcon:Y,onClick:q,tabIndex:L,"aria-label":I,"aria-expanded":z})),E().createElement("div",{ref:e=>{e&&(K.current=e)},className:f()(z?R.XR:R.sK,t),style:{maxHeight:z?Q:0}},E().createElement("div",{className:n},U&&C)))}},5010:function(e,t,n){"use strict";var r=n(89575),s=n(17502),o=n(30812),a=n.n(o),c=n(85959),i=n.n(c),l=n(97103),u=n(34801);const m=["children","className","context","styles"],d=e=>{const{children:t,className:n,context:{style:{root:o}}}=e,c=(0,s.A)(e,m),u=a()(n,o),f=(0,l.B)(d,e),b={className:u};return i().createElement(f,(0,r.A)({},b,c),t)},f={style:{}};const b=(0,u.e)((function(){return Object.assign({},f)}),(e=>{const{styles:t}=e;return{style:t}}))(d);t.Ay=b},41959:function(e,t,n){"use strict";var r=n(89575),s=n(17502),o=n(50696),a=n(85959),c=n.n(a),i=n(5010);const l=["children"];t.A=e=>{let{children:t}=e,n=(0,s.A)(e,l);const[{style:{background:a}}]=(0,o.D)(i.Ay);return c().createElement("div",(0,r.A)({className:a},n),t)}},8840:function(e,t,n){"use strict";var r=n(89575),s=n(17502),o=n(50696),a=n(85959),c=n.n(a),i=n(5010);const l=["children"];t.A=e=>{let{children:t}=e,n=(0,s.A)(e,l);const[{style:{contentRoot:a,contentGrid:u,contentRow:m,contentCol:d,contentWrapper:f}}]=(0,o.D)(i.Ay);return[a,u,m,d,f].reduceRight(((e,t,s)=>void 0!==t?c().createElement("div",(0,r.A)({key:t,className:t},0===s?n:{}),e):e),c().createElement(c().Fragment,null,t))}},79958:function(){window.__RENDERING_ENGINE_TRANSLATION_KEYS__={...window.__RENDERING_ENGINE_TRANSLATION_KEYS__,"newsletter-consent_banner":["newsletter.subscription.footer.title","newsletter.subscription.footer.subtitle","newsletter.subscription.footer.headline","subscribe.DOI.success.resend.verification","account.pc.button.success","account.pc.button.error","subscribe.DOI.success.subtitle","subscribe.DOI.success.title","subscribe.DOI.success.description","subscribe.SOI.success.subtitle","subscribe.SOI.success.title","subscribe.SOI.success.description","newsletter.subscription.footer.email","subscribe.error.message","newsletter.subscription.footer.preferences.headline","newsletter.subscription.footer.preferences.subheadline","loyalty_points.missions.newsletter.premise.points","loyalty_points.zhome.missions.newsletter.email","newsletter.subscription.footer.cta","new.newsletter.subscription.footer.privacy","link.privacyPolicy","link.privacyPolicy.newsletter","newsletter.subscription.footer.privacy.policy","link.faq.unsubscribe","newsletter.subscription.footer.privacy.unsubscribe","newsletter.subscription.footer.disclaimer.voucher","newsletter.subscription.footer.disclaimer","newsletter.subscription.footer.option.women","newsletter.subscription.footer.option.men","subscribe.gender.selection.error","newsletter.subscription.footer.preferences.more","account.pc.preference.error","newsletter.subscription.footer.more.info","customer.newsletter.subscribe.failed"]}},32474:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return ye}});var r,s,o,a,c,i=n(32740),l=n(85959),u=n.n(l),m=n(51599),d=n(38856),f=n(75839),b=n(5010),E=n(41959),p=n(8840),y=n(2673),_=n(52130),g=n(10170),v=n(14410),A=n(30812);!function(e){e.MEN="MEN",e.WOMEN="WOMEN"}(r||(r={})),function(e){e.FEMALE="FEMALE",e.MALE="MALE"}(s||(s={})),function(e){e.NOT_SUBSCRIBED="NOT_SUBSCRIBED",e.UNSUBSCRIBED="UNSUBSCRIBED",e.SUBSCRIBED_VERIFICATION_NOT_NEEDED="SUBSCRIBED_VERIFICATION_NOT_NEEDED",e.SUBSCRIBED_VERIFICATION_NEEDED="SUBSCRIBED_VERIFICATION_NEEDED",e.SUBSCRIBED_VERIFIED="SUBSCRIBED_VERIFIED"}(o||(o={})),function(e){e.AVAILABLE="AVAILABLE",e.COMPLETED="COMPLETED"}(a||(a={})),function(e){e.ELIGIBLE="ELIGIBLE",e.NOT_ELIGIBLE="NOT_ELIGIBLE",e.ACTIVE="ACTIVE"}(c||(c={}));var h=n(5073),S=n(56020),N=n(9049),w=n(36124),C=n(32269),L=n(89862);const I="newsletter subscription banner",k=e=>e?"on":"off";function x(e){let{customCategory:t,customLabel:n}=e;return{name:"view_content",context:{legacy_event_name:L.wc,customCategory:t,customLabel:n}}}function O(e){let{customCategory:t,customLabel:n}=e;return{name:"select_content",context:{legacy_event_name:L.bD,customCategory:t,customLabel:n}}}var M=(0,l.createContext)({}),R=n(21775),D=n(42768);function T(e){let{isVerificationRequired:t,email:n}=e;const{tools:r,loyaltyMission:s,customer:o,canCompleteMission:a}=l.useContext(M),[c,i]=l.useState(!1),[u,d]=l.useState(!1),b=B(t,n),E=(null==o?void 0:o.email)===n,p=a&&!t&&E,v=l.useRef(null),L=()=>{setTimeout((()=>{i(!1),d(!1)}),1500)};return l.useEffect((()=>{p&&R.trigger("PLUS$LOYALTY_MISSION_COMPLETED_SUCCESS_EVENT",s.points.amount)}),[]),l.createElement("div",{tabIndex:-1,ref:v,style:{outline:"none"},className:f.Vg8},l.createElement("div",{className:f.nME},l.createElement("div",{className:A(f.nzo,f.Srn,f.SwH)},l.createElement(V,{maxWidth:128,className:A(h.lX,h.FH)}),l.createElement(V,{maxWidth:80,className:h.S8})),l.createElement("div",{className:A(f.nzo,f.Srn,f.WEn,g.aUF,g.XeA)},l.createElement(y.Ay,{preset:_.nx.h4},b.title),l.createElement(y.Ay,{preset:_.nx.h4,font:_.KQ.serif,style:{fontWeight:400}},b.subtitle),l.createElement("div",{className:A(g.aUF,g.uvl)},l.createElement(y.Ay,{preset:_.nx.bodyBold,color:_.r7.secondary},n)),l.createElement(y.Ay,{preset:_.nx.body,font:_.KQ.serif,style:{fontWeight:400}},b.body),t&&l.createElement("div",{className:g.Ol8},l.createElement(y.Ay,{tag:"button",style:{cursor:"pointer"},preset:_.nx.bodyExtraSmall,color:_.r7.interactive,onClick:async()=>{var e;(e=>{e.tracking.trackStandalone(O({customCategory:I,customLabel:"DOI confirmation resend"}))})(r);const t=await r.executeMutation({...C,variables:{input:{email:n,referrer:"doi_resend_nl_subscription_banner_one_click",clientMutationId:Date.now().toString()}}});(null==t||null==(e=t.data)?void 0:e.resendNewsletterVerificationEmail)?(i(!0),d(!1),L()):(i(!1),d(!0),L())}},__("subscribe.DOI.success.resend.verification")),l.createElement("span",{"aria-live":"polite"},c&&l.createElement("span",null,l.createElement("span",{className:D.R},__("account.pc.button.success")),l.createElement(w.A,{src:S.A,color:"custom",className:m.ca5,style:{verticalAlign:"middle",fontSize:"16px"}})),u&&l.createElement("span",null,l.createElement("span",{className:D.R},__("account.pc.button.error")),l.createElement(w.A,{src:N.A,color:"custom",className:m.s9c,style:{verticalAlign:"middle",fontSize:"16px"}})))))))}const B=(e,t)=>e?{title:__("subscribe.DOI.success.subtitle"),subtitle:__("subscribe.DOI.success.title"),body:__("subscribe.DOI.success.description",t)}:{title:__("subscribe.SOI.success.subtitle"),subtitle:__("subscribe.SOI.success.title"),body:__("subscribe.SOI.success.description",t)},V=e=>{let{maxWidth:t,className:n}=e;return l.createElement("svg",{width:"128",height:"128",viewBox:"0 0 128 128",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{width:"100%",height:"auto",maxWidth:t},className:n},l.createElement("path",{d:"M6.40039 60.7998V121.6H121.6V60.7998",stroke:"#1A1A1A",strokeWidth:"3.2",strokeLinecap:"round",strokeLinejoin:"round"}),l.createElement("path",{d:"M96 76.8002V54.4002C96 52.6329 94.5673 51.2002 92.8 51.2002H64H35.2C33.4327 51.2002 32 52.6329 32 54.4002V74.9884C32 76.1124 32.5898 77.1541 33.5536 77.7324L54.1217 90.0732C60.202 93.7214 67.798 93.7214 73.8783 90.0732L96 76.8002Z",fill:"#6328E0"}),l.createElement("path",{d:"M78.4004 61.3931L60.8004 77.3931L52.8004 69.3931",stroke:"white",strokeWidth:"3.2",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"}),l.createElement("path",{d:"M121.6 60.7996L74.3375 90.9954C68.0344 95.0223 59.9664 95.0223 53.6633 90.9954L6.40039 60.7996",stroke:"#1A1A1A",strokeWidth:"3.2",strokeLinejoin:"round"}),l.createElement("path",{d:"M121.6 60.8L74.3375 30.6042C68.0344 26.5773 59.9664 26.5773 53.6633 30.6042L6.40039 60.8",stroke:"#1A1A1A",strokeWidth:"3.2",strokeLinejoin:"round"}),l.createElement("path",{d:"M100.8 14.4004L89.5996 25.6004",stroke:"#A2A3A8",strokeWidth:"3.2",strokeLinecap:"round",strokeLinejoin:"round"}),l.createElement("path",{d:"M27.2004 14.4004L38.4004 25.6004",stroke:"#A2A3A8",strokeWidth:"3.2",strokeLinecap:"round",strokeLinejoin:"round"}),l.createElement("path",{d:"M64 3.2002V17.6002",stroke:"#A2A3A8",strokeWidth:"3.2",strokeLinecap:"round",strokeLinejoin:"round"}))};var W=n(89581),z=n(76309),F=n(76349),U=n(85202),P=n(24741),K=n(44316),G=n(78792),j=n(61869);var X=n(64511);function q(){const{tools:e}=u().useContext(M);return u().createElement(y.Ay,{preset:_.nx.bodyExtraSmall,color:_.r7.secondary,onClick:()=>{(e=>{e.tracking.trackStandalone(O({customCategory:I,customLabel:"privacy footer/ unsubscribe"}))})(e)}},u().createElement("p",{dangerouslySetInnerHTML:{__html:__("new.newsletter.subscription.footer.privacy",(0,X.a)('<a href="{href}" style="{style}">{label}</a>',{href:__("link.privacyPolicy")+__("link.privacyPolicy.newsletter"),label:__("newsletter.subscription.footer.privacy.policy"),style:"color: #111"}),(0,X.a)('<a href="{href}" style="{style}">{label}</a>',{href:__("link.faq.unsubscribe"),label:__("newsletter.subscription.footer.privacy.unsubscribe"),style:"color: #111"}))}}))}var Q=n(4955),H=n(15842);const Z=["sk","ee","hu","ro","lt","hr","lv","cz","si"];function J(){const{tools:e,tld:t}=u().useContext(M);if(!Z.includes(t))return null;const[n,r]=u().useState(!1);return u().createElement("div",{className:g.QgQ},u().createElement(y.Ay,{tag:"span",preset:_.nx.bodyExtraSmallBold,onClick:()=>{n||(e=>{e.tracking.trackStandalone(O({customCategory:I,customLabel:"voucher detail"}))})(e),r((e=>!e))},style:{cursor:"pointer"},color:_.r7.secondary},__("newsletter.subscription.footer.disclaimer.voucher")," ",u().createElement(Y,{up:n})),n&&u().createElement(y.Ay,{tag:"p",preset:_.nx.bodyExtraSmall,color:_.r7.secondary},__("newsletter.subscription.footer.disclaimer")))}const Y=e=>{let{up:t}=e;return t?u().createElement(w.A,{src:Q.A,style:{verticalAlign:"middle",fontSize:12}}):u().createElement(w.A,{src:H.A,style:{verticalAlign:"middle",fontSize:12}})};var $=n(67205);function ee(e){let{value:t,onChange:n,disabled:s,showError:o=!1}=e;const a=[{id:"1",label:__("newsletter.subscription.footer.option.women"),value:r.WOMEN},{id:"2",label:__("newsletter.subscription.footer.option.men"),value:r.MEN}];return u().createElement($.A,{name:"category",defaultValue:t,disabled:s,onChange:n,options:a,message:o?te(__("subscribe.gender.selection.error")):void 0})}const te=e=>({type:P.G.ERROR,icon:u().createElement(w.A,{src:z.A}),label:e});var ne=n(66290),re=n(28562),se=n(33221),oe=n(24832);function ae(e){let{topics:t,onTopicChange:n,disabled:r,showError:s}=e;const{tools:o}=u().useContext(M);return u().createElement(ne.n,{className:g.aUF,title:__("newsletter.subscription.footer.preferences.more"),ariaLabel:__("newsletter.subscription.footer.preferences.more"),titlePreset:"body",onClick:()=>{(e=>{e.tracking.trackStandalone(O({customCategory:I,customLabel:"content options"}))})(o)}},t.length?u().createElement("div",{className:A(f.Vg8)},u().createElement("div",{className:f.nME},t.map((e=>u().createElement(re.A,{id:e.id,key:e.id,disabled:r,className:A(f.nzo,f.Srn,f.UKO,g.aUF),onChange:t=>n(e,t),label:e.name,checked:e.isEnabled}))),s&&u().createElement("div",{className:A(f.nzo,f.Srn,g.aUF)},u().createElement(y.Ay,{tag:"p",preset:_.nx.bodyExtraSmall,color:_.r7.negative,"aria-live":"polite"},u().createElement(w.A,{src:z.A,fontSize:"custom",className:v.eA,color:"brand"})," ",__("account.pc.preference.error"))),u().createElement("div",{className:A(f.nzo,f.Srn,oe.w9,g.aUF)},u().createElement(se.A,{href:"/messages",onClick:()=>{(e=>{e.tracking.trackStandalone(O({customCategory:I,customLabel:"see more"}))})(o)}},__("newsletter.subscription.footer.more.info"))))):u().createElement(y.Ay,{preset:_.nx.bodySmall},__("customer.newsletter.subscribe.failed")))}var ce=n(71016);function ie(e){let{onSuccess:t}=e;var n;const{consent:o,customer:a,tools:c,subscriptionReferrer:i,loyaltyMission:u,canCompleteMission:m}=l.useContext(M),[d,b]=l.useState(o.preference.topics.map((e=>({...e,isEnabled:!0})))),[E,p]=l.useState(o.email||(null==a?void 0:a.email)||""),[v,h]=l.useState((null==(n=o.preference)?void 0:n.category)||((S=null==a?void 0:a.gender)===s.FEMALE?r.WOMEN:S===s.MALE?r.MEN:void 0));var S;const[N,C]=l.useState(!1),[L,R]=l.useState(!1),[D,T]=l.useState(!1),[B,V]=l.useState(!1),[z,P]=l.useState(!1),[X,Q]=l.useState(!1),H=async()=>{var e;V(!0),P(!1),Q(!1);const n=await c.executeMutation({...j,variables:{input:{email:E,preference:{category:v,topics:d.map((e=>({id:e.id,isEnabled:e.isEnabled})))},referrer:i,clientMutationId:Date.now().toString()}}}),r=null==n||null==(e=n.data)?void 0:e.subscribeToNewsletter;r?(((e,t)=>{e.tracking.trackStandalone(O({customCategory:I,customLabel:t.map((e=>e.id+" : "+k(e.isEnabled))).join(" | ")}))})(c,d),V(!1),P(!0),setTimeout((()=>{P(!1),t(r.email,r.isEmailVerificationRequired)}),1500)):(V(!1),Q(!0),setTimeout((()=>{Q(!1)}),1500))},Z=u&&m&&!o.isActive;return l.createElement("div",null,l.createElement("form",{className:g.g5R,onSubmit:e=>{const t=!d.some((e=>e.isEnabled)),n=!function(e){var t,n;if(!e)return!1;if(!/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase()))return!1;const r=e.split("@"),s=null==(t=r[0])?void 0:t.length,o=null==(n=r[1])?void 0:n.length;return!(!s||!o)&&s<=64&&o<=255}(E),r=!v;e.preventDefault(),(e=>{e.tracking.trackStandalone(O({customCategory:I,customLabel:"subscribe button"}))})(c),R(!1),T(!1),C(!1),n&&(R(n),(e=>{e.tracking.trackStandalone(x({customCategory:I,customLabel:"invalid email"}))})(c)),t&&(T(t),(e=>{e.tracking.trackStandalone(x({customCategory:I,customLabel:"no preference error"}))})(c)),r&&(C(r),(e=>{e.tracking.trackStandalone(x({customCategory:I,customLabel:"no fashion preference error"}))})(c)),r||n||t||H()}},l.createElement("div",{className:f.Vg8},l.createElement("div",{className:f.nME},l.createElement("div",{className:A(f.nzo,f.Srn,g.g5R)},l.createElement(K.A,{id:"email-input",label:__("newsletter.subscription.footer.email"),value:E,type:G.M.EMAIL,disabled:B,message:L?le(__("subscribe.error.message")):void 0,onChange:e=>{p(e.target.value)},onFocus:()=>{(e=>{e.tracking.trackStandalone(O({customCategory:I,customLabel:"email form"}))})(c)}})),l.createElement("div",{className:A(f.nzo,f.Srn,f.UKO)},l.createElement(y.Ay,{tag:"h4",preset:_.nx.bodyBold},__("newsletter.subscription.footer.preferences.headline")),l.createElement(y.Ay,{tag:"p",preset:_.nx.body,font:_.KQ.serif},__("newsletter.subscription.footer.preferences.subheadline"))),l.createElement("div",{className:A(f.nzo,f.Srn,f.UKO,g.aUF,g.XeA)},l.createElement(ee,{value:v,disabled:B,onChange:e=>{const t=e;h(t),((e,t)=>{e.tracking.trackStandalone(O({customCategory:I,customLabel:t.toLowerCase()+" toggle"}))})(c,(e=>e===r.WOMEN?s.FEMALE:e===r.MEN?s.MALE:void 0)(t))},showError:N})),l.createElement("div",{className:A(f.nzo,f.Srn)},l.createElement(ae,{topics:d,disabled:B,onTopicChange:(e,t)=>{b(d.map((n=>n.id===e.id?{...n,isEnabled:t}:n))),((e,t,n)=>{e.tracking.trackStandalone(O({customCategory:I,customLabel:t+".email subscription "+k(n)}))})(c,e.name,t)},showError:D})),l.createElement("div",{className:A(f.nzo,f.Srn,g.Ol8)},Z&&l.createElement("div",{className:g.uvl},l.createElement(ce.A,{logo:"LoyaltyPointsShortTile",logoLabel:""+u.points.amount,label:__("loyalty_points.missions.newsletter.premise.points"),size:"s"}),l.createElement(y.Ay,{tag:"p",color:_.r7.grey47,preset:_.nx.bodyExtraSmall,className:g.IuD},__("loyalty_points.zhome.missions.newsletter.email"))),l.createElement(U.j,{label:__("newsletter.subscription.footer.cta"),state:B?F.w.LOADING:X?F.w.ERROR:z?F.w.SUCCESS:F.w.INITIAL,type:"submit",style:{width:"100%"},icon:l.createElement(w.A,{src:W.A})}))))),l.createElement(q,null),l.createElement(J,null))}const le=e=>({type:P.G.ERROR,icon:l.createElement(w.A,{src:z.A}),label:e});function ue(){const{consent:e,tld:t}=l.useContext(M),[n,r]=l.useState(e.status===o.SUBSCRIBED_VERIFICATION_NEEDED),[s,a]=l.useState(n),[c,i]=l.useState(n?e.email:"");return l.createElement(de,{tld:t},!s&&l.createElement(ie,{onSuccess:(e,t)=>{a(!0),i(e),r(t)}}),s&&l.createElement(T,{email:c,isVerificationRequired:n}))}const me=e=>{let{tld:t}=e;return l.createElement("div",null,l.createElement(y.Ay,{tag:"h3",preset:_.nx.h4},__("newsletter.subscription.footer.title")),l.createElement(y.Ay,{tag:"p",preset:_.nx.h4,font:_.KQ.serif,style:{fontWeight:400}},__("newsletter.subscription.footer.subtitle")),l.createElement("div",{className:g.aUF},l.createElement(y.Ay,{preset:_.nx.body,font:_.KQ.serif},__("newsletter.subscription.footer.headline",t))))},de=e=>{const t={root:A(v.mN),contentRow:A(f.nME,d.Gs,f.Qcg,g.XfK,f.LQL,f.D0i),contentGrid:f.sm9};return l.createElement(b.Ay,{styles:t,style:{overflowX:"hidden"}},l.createElement(E.A,{className:m.F9z},l.createElement(p.A,null,l.createElement("div",{className:A(f.nzo,f.W_8,f.Tap,f.UKO,f.NW$,f.Wtb,f.ATT)},l.createElement("div",{className:A(g.Bmg)},l.createElement(me,{tld:e.tld}))),l.createElement("div",{className:A(f.nzo,f.NW$,f.Txi,f.UKO,d.oD)},l.createElement("div",{className:A(m.Aof,g.XfK,g.Bmg,g.cgu,g.zRf,g.g6U,g.g5R,g.EVd)},e.children)))))};var fe=n(66438),be=n(72074),Ee=n(89448),pe=n(75324),ye=(0,i.tile)().withQueries((()=>({consent:{query:be},customer:{query:fe},loyaltyMission:{query:Ee},loyaltyProgram:{query:pe}}))).withTracking((e=>({resolve:()=>({context:{id:e.entity.id}})}))).withProcessDependencies((e=>{var t,n,r;const s=null==(t=e.consent)?void 0:t.newsletterConsent,o=e.loyaltyMission.loyaltyPointsMission,i=null==(n=e.loyaltyProgram.loyaltyPointsProgram)?void 0:n.loyaltyStatus,l=o&&((e,t)=>e===c.ACTIVE&&t.status===a.AVAILABLE)(i,o);return s?{action:"render",data:{customer:null==(r=e.customer)?void 0:r.customer.details,consent:s,canCompleteMission:l,loyaltyMission:o}}:{action:"error",message:"could not fetch NewsletterConsent"}})).withRender((e=>{const t=e.data.customer,n=e.data.consent,r=e.data.canCompleteMission,s=e.data.loyaltyMission,o=e.context.navigation.url.host.split(".").pop(),a=e.ruleData.isStandaloneView;let c="nl_subscription_banner_one_click";if(a){const t=e.context.navigation.url.query.c_ref;c=(Array.isArray(t)?t[0]:t)||"nl_subscription_page"}return n.isActive&&!a?null:l.createElement(i.ViewTracker,{onVisible:()=>{e.tools.tracking.trackStandalone(x({customCategory:I,customLabel:"one click banner footer"}))}},l.createElement(M.Provider,{value:{consent:n,customer:t,tld:o,tools:e.tools,subscriptionReferrer:c,canCompleteMission:r,loyaltyMission:s}},l.createElement(ue,null)))}))},66438:function(e){e.exports={id:"2656033ac133cf1cf1a63c5f0e0572dfaaaa407c382fd04fe90576742173e308"}},89448:function(e){e.exports={id:"4379ab0ce6585117cae2ffa20a295ea994be9ad15c515519fa933948701ac32f"}},75324:function(e){e.exports={id:"fc2bc4b21f112658dd5cfe8b9c8768a0c3619b80d0d4695599a444b734e36f93"}},72074:function(e){e.exports={id:"1e64b010bf06d143966c3d1b697d7cc44599e25f0ab6a431e8ad5380d8b44b19"}},32269:function(e){e.exports={id:"adc5fae516e6e40c0c15ab0d2f5a5e3f016968870b83c2bb5d3418bdc614a27c"}},61869:function(e){e.exports={id:"06fe5b50b4218612aa3fa8494df326aef7ff35a75a8563b3455bb53c15168872"}},30812:function(t){"use strict";t.exports=e},85959:function(e){"use strict";e.exports=t},32740:function(e){"use strict";e.exports=n},21775:function(e){"use strict";e.exports=r}},function(e){var t=function(t){return e(e.s=t)};return e.O(0,[29674],(function(){return t(79958),t(32474)})),e.O()}])}));
//# sourceMappingURL=https://zalando.de/dev/source-maps/newsletter-consent_banner/index-6b195068b70f77fe2f8e.map