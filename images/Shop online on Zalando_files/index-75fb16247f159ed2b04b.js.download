define(["classnames","react","rendering-engine-api"],(function(e,t,n){return(self.renderingEngineWebpackJsonp=self.renderingEngineWebpackJsonp||[]).push([[43956],{3171:function(e,t,n){"use strict";n.d(t,{H:function(){return a}});n(89862);function a(e,t,n){return"release slide.-."+(e&&t?"motion":t?"static":"video")+"."+n}},78293:function(e,t,n){"use strict";n.d(t,{m:function(){return i}});var a=n(85959),r=n(44302);function i(){const[e,t]=a.useState({}),[n,i]=a.useState(!1),[o,l]=(0,r.W)({threshold:.5,triggerOnce:!1});const s=e=>{if(!function(e){return"detail"in e}(e))throw new Error("not a custom event");i(e.detail)};a.useEffect((()=>(window.addEventListener("playerIsPaused",s),()=>{window.removeEventListener("playerIsPaused",s)})));return(0,a.useEffect)((()=>{t({transformOrigin:"50% 50%",animationName:l?"zoomAnimation":"",animationDuration:l?"5s":"",animationTimingFunction:l?"linear":"",animationPlayState:n?"paused":"running",keyFrameRules:"@keyframes zoomAnimation {\n                from {transform: scale(1);}\n                to {transform: scale(1.15);}\n            }"})}),[l,n]),{animationStyles:e,inViewRef:o}}},75526:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return w}});var a=n(85959),r=n(32740),i=n(17905),o=n(2673),l=n(52130),s=n(30812),c=n(10170),m=n(14936),u=n(32099),d=n(61706),g=n(21267),f=n(87548),p=n(22940),y=n(34412),v=n(89862);const x="release short",h=(e,t)=>{let n=null;const a={customLabel:t,customCategory:x};return(t,r)=>{let i=null;const o=Math.round(t/r*100);var l,s;o>=25&&o<50?i={name:v.Jh,context:a}:o>=50&&o<75?i={name:v.hr,context:a}:o>=75&&(i={name:v.iB,context:a}),!i||((l=i)===(s=n)||l&&s&&l.name===s.name)||(n=i,e.tracking.track(i))}};var b=n(71156),S=n(78293),E=n(3171),k=n(61617);var w=(0,r.tile)().withQueries((e=>({data:{query:i,variables:{id:e.entity.id}}}))).withTracking((e=>({def:y.def,context:{id:e.entity.id}}))).withProcessDependencies(((e,t)=>{var n,a;const{collection:r}=e.data;return r?(null==(n=r.primaryImage)?void 0:n.uri)||(null==(a=r.primaryVideo)?void 0:a.uri)?{action:"render",data:{collection:r,isZoomInEnabled:void 0!==t.ruleData.isZoomInEnabled}}:{action:"error",message:"Collection has no media"}:{action:"error",message:"Invalid Text Slide"}})).withRender((e=>{var t,n,i,y;const{collection:w,isZoomInEnabled:_}=e.data,{title:I,subtitle:V,description:L}=w,N=a.useRef(null),D=!r.SessionStorage.exists()||null===r.SessionStorage.get("mute-shorts")||"true"===r.SessionStorage.get("mute-shorts"),O=null==(t=w.primaryVideo)?void 0:t.uri.includes(".m3u8"),T=(0,E.H)(_,!!(null==w||null==(n=w.primaryImage)?void 0:n.uri),w.id),{animationStyles:A,inViewRef:C}=(0,S.m)(),P="shorts-video-player-"+w.id.split(":").pop(),F=Boolean(e.ruleData.enableStandaloneInShadowPrio2),R=Boolean(e.ruleData.enableStandaloneOnlyPrio2);return a.createElement(r.ViewTracker,{onVisible:()=>{var t;((e,t,n,a,r,i)=>{const o={enableStandaloneInShadow:t,enableStandaloneOnly:n},l={name:"view_content",context:{content_id:a,legacy_event_name:v.wc,event_trigger_name:r.toLowerCase().replace(/ /g,"_"),experience:i}};e.trackStandalone(l,o),e.track({name:v.wc,context:{customCategory:"release short",customLabel:r}},o)})(e.tools.tracking,F,R,w.id,T,null==(t=e.context.experience)?void 0:t.name)}},a.createElement("div",{className:s(m.Xv,k.ZT),ref:C},(null==(i=w.primaryImage)?void 0:i.uri)&&!w.primaryVideo&&a.createElement(a.Fragment,null,a.createElement("style",{dangerouslySetInnerHTML:{__html:A.keyFrameRules}}),a.createElement(g.A,{src:w.primaryImage.uri,className:m.Xv,style:{objectFit:"cover",..._&&{transformOrigin:A.transformOrigin,animationName:A.animationName,animationDuration:A.animationDuration,animationTimingFunction:A.animationTimingFunction,animationPlayState:A.animationPlayState}}})),w.primaryVideo&&a.createElement(d.A,{id:P,protocol:O?"hls":"http",preferredSubtitlesLocale:e.context.locale,ref:N,src:w.primaryVideo.uri,preload:"auto",width:0,className:m.Xv,height:0,muted:D,autoplay:!1,controls:!1,playsinline:!0,onReady:()=>{var t,n;((e,t,n,a)=>{const r={name:v.BV,context:{uri:t,id:n,duration:Math.round(a)}};e.tracking.track(r)})(e.tools,(null==(t=w.primaryVideo)?void 0:t.uri)||"",w.id,(null==(n=w.primaryVideo)?void 0:n.duration)||0)},onTimeUpdate:h(e.tools,T),onEnd:()=>((e,t)=>{const n={name:v.yt,context:{customCategory:x,customLabel:t}};e.tracking.track(n)})(e.tools,T),style:{objectFit:"cover"}}),a.createElement("div",{className:s(f.DYq,f.d7k,u.Gm,m.Xv),style:{background:"linear-gradient(#000000 1.29%, rgba(0, 0, 0, 0) 7.38%)"}}),a.createElement("div",{className:s(f.DYq,f.x6V,u.Gm,c.Bmg,c.SOP),style:{background:"linear-gradient(rgba(0, 0, 0, 0) 0%, #000000 100%)"}},a.createElement("div",{className:s(u.Gm,c.ZLx,c.Mn7)},I?a.createElement(o.Ay,{preset:l.nx.h3,font:l.KQ.sansSerif},I):null,V?a.createElement(o.Ay,{preset:l.nx.h3,font:l.KQ.serif},V):null,L?a.createElement(o.Ay,{className:c.vJY,preset:l.nx.body,font:l.KQ.serif,tag:"p"},L):null,(null==(y=w.cta)?void 0:y.text)?a.createElement("div",{className:s(c.QgQ,f.cky,p.CY)},a.createElement(b.A,{href:w.cta.uri,onClick:()=>{var t,n;(null==(t=w.cta)?void 0:t.text)&&((e,t,n,a,r,i)=>{const o={enableStandaloneInShadow:t,enableStandaloneOnly:n},l={name:"select_content",context:{content_id:a,legacy_event_name:v.wc,event_trigger_name:r.toLowerCase().replace(/ /g,"_"),experience:i}};e.track({name:v.bD,context:{customCategory:"release short",customActionSuffix:"show",customLabel:r}},o),e.trackStandalone(l,o)})(e.tools.tracking,F,R,w.id,"release slide.-."+w.cta.text,null==(n=e.context.experience)?void 0:n.name)}},a.createElement("span",{style:{textTransform:"uppercase"}},w.cta.text))):null))))}))},17905:function(e){e.exports={id:"5ee1c16579469910be207d40d9a98111f335dfe8201c1ba0210140a52022eb0d"}},30812:function(t){"use strict";t.exports=e},85959:function(e){"use strict";e.exports=t},32740:function(e){"use strict";e.exports=n}},function(e){return e.O(0,[29674],(function(){return t=75526,e(e.s=t);var t})),e.O()}])}));
//# sourceMappingURL=https://zalando.de/dev/source-maps/collection_short-slide-text/index-e9f8d8e0fa947670e6ed.map